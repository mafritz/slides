<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Interactivité avec JavaScript</title>
    <link
      rel="icon"
      type="image/svg+xml"
      href="https://mafritz.ch/slides/assets/images/maf-favicon.svg"
    />

    <meta
      name="description"
      content="Présentation sur le fonctionnement de JavaScript dans un navigateur"
    />
    <meta name="author" content="Mattia A. Fritz" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://mafritz.ch/slides/assets/dist/reset.css"
    />
    <link
      rel="stylesheet"
      href="https://mafritz.ch/slides/assets/dist/reveal.css"
    />
    <link
      rel="stylesheet"
      href="https://mafritz.ch/slides/assets/dist/theme/maf.css"
      id="theme"
    />

    <!-- Theme used for syntax highlighting of code -->
    <link
      rel="stylesheet"
      href="https://mafritz.ch/slides/assets/plugin/highlight/monokai.css"
      id="highlight-theme"
    />
  </head>

  <body>
    <div class="reveal">
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <!-- Title -->
        <section>
          <img
            class="r-stretch"
            src="images/interactivie-js-browser-icon.svg"
            alt="JS Logo"
            title="Logo de JavaScript"
          />
          <h2>Interactivité avec JavaScript</h2>
          <p>
            Mattia A. Fritz<br />
            <small>TECFA, Université de Genève</small>
          </p>
        </section>

        <!-- Rappel triade pages web -->
        <section class="align-center">
          <h3>Composantes des pages web</h3>
          <img
            src="./images/anatomie-page-web.png"
            class="r-stretch"
            alt="HTML5, CSS et JavaScript"
            title="Triade des technologies web principales"
          />
          <div class="d-flex space-between">
            <div class="fragment text-center" style="width: 300px">
              Structure
            </div>
            <div class="fragment text-center" style="width: 300px">Forme</div>
            <div class="fragment text-center" style="width: 300px">
              Interaction
            </div>
          </div>
        </section>

        <!-- Download of JavaScript code -->
        <section>
          <h3>JavaScript et le navigateur web</h3>
          <pre><code class="hljs" data-line-numbers="|11-12">&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
&lt;head&gt;
	&lt;title&gt;Une page HTML5&lt;/title&gt;
	&lt;meta charset="UTF-8"&gt;
	&lt;!-- Téléchargement du CSS --&gt;
	&lt;link href="assets/css/style.css" rel="stylesheet"&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;!-- Téléchargement du fichier JS --&gt;
	&lt;script src="assets/js/app.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;						
</code></pre>
          <p class="fragment text-center mt-5">
            <i class="fa fa-download"></i> Les
            <strong><span class="accent">instructions</span></strong> sont
            téléchargées avec la page.
          </p>
        </section>

        <!-- Moteur JavaScript -->
        <section class="align-center">
          <h3>Un <em>moteur</em> JS dans le navigateur</h3>
          <img
            src="./images/navigateur-moteur-js.svg"
            class="r-stretch"
            alt="Moteur JavaScript"
            title="Le navigateur possède un moteur JavaScript"
          />
          <p>Le code est interprété à l'intérieur du navigateur.</p>
        </section>

        <!-- The window global object -->
        <section>
          <h3>L'objet global <code>window</code></h3>
          <div class="border-light-1 p-1 mb-3">
            JavaScript peut <strong class="accent">contrôler</strong>, avec des
            limitations, le navigateur à travers l'objet global
            <code>window</code>.
          </div>
          <ol>
            <li class="fragment">
              Ouvrez la console du navigateur
              <kbd>F12</kbd>
            </li>
            <li class="fragment">
              Entrez
              <code>window</code>
            </li>
            <li class="fragment">
              Après entrez
              <code>window.innerHeight</code>
            </li>
            <li class="fragment">
              Enfin entrez
              <code>window.location.href</code>
            </li>
          </ol>
        </section>
        <!-- The document object -->
        <section>
          <h3>Accès au DOM de la page</h3>
          <div class="border-light-1 p-1 mb-3">
            À l'intérieur de l'objet window, vous avez l'objet
            <code>window.document</code> qui donne accès au
            <abbr title="Document Object Model">DOM</abbr>.
          </div>
          <ol>
            <li class="fragment">
              Entrez <code>window.document</code> dans la console
            </li>
            <li class="fragment">
              Puis seulement
              <code>document</code>
            </li>
            <li class="fragment">
              Maintenant entrez
              <code>document.title</code>
            </li>
            <li class="fragment">
              Et enfin
              <code>document.body</code>
            </li>
          </ol>
        </section>
        <!-- Manipulate the DOM -->
        <section>
          <h3 id="slideTitle">Manipulation du DOM</h3>
          <div class="border-light-1 p-1 mb-3">
            À travers l'accès au DOM vous pouvez
            <strong class="important"
              >manipuler les différents éléments de la page</strong
            >.
          </div>
          <ol>
            <li class="fragment">
              Entrez
              <code>document.getElementById('slideTitle').innerHTML</code>
            </li>
            <li class="fragment">
              Puis
              <code
                >document.getElementById('slideTitle').innerHTML = 'On peut
                faire mieux !'</code
              >
            </li>
          </ol>
        </section>
        <!-- The code of this slides -->
        <section>
          <h3>Instructions pour la présentation</h3>
          <div class="border-light-1 p-1 mb-3">
            Cette présentation utilise du code de
            <a href="https://edutechwiki.unige.ch/fr/Reveal.js">Reveal.js</a>,
            une bibliothèque pour créer des slides en HTML5, CSS et JavaScript.
          </div>
          <ol>
            <li class="fragment">Entrez <code>Reveal</code> dans la console</li>
            <li class="fragment">
              Puis entrez
              <code>Reveal.getTotalSlides()</code>
            </li>
            <li class="fragment">
              Et finalement entrez
              <code>Reveal.next()</code>
            </li>
          </ol>
        </section>

        <!-- Button -->
        <section class="align-center">
          <h3>Facile, n'est-ce pas ?</h3>
          <p>Maintenant regardez le code HTML du bouton.</p>
          <pre><code class="hljs">&lt;button onclick="Reveal.next()"&gt;Prochaine slide&lt;/button&gt;</code></pre>
          <p>Que ce passe-t-il si vous cliquez ?</p>
          <button onclick="Reveal.next()">Prochaine slide</button>
        </section>

        <!-- Voilà -->
        <section>
          <h3><i class="far fa-thumbs-up"></i> Voilà !</h3>
          <p>
            Les applications interactives sont une extension de ce mécanisme de
            base :
          </p>
          <ol>
            <li class="fragment">
              Les <strong>instructions</strong> sont codées en amont et
              téléchargées avec la page
            </li>
            <li class="fragment">
              Elles sont ensuite déclenchées par des
              <strong class="accent">événements</strong>, comme par exemple le
              clique sur un bouton
            </li>
            <li class="fragment">
              Elles comportent enfin des <strong>changements</strong> à l'état
              de l'application, par exemple des modifications perceptibles à
              l'interface à travers des modifications du
              <abbr title="Document Object Model">DOM</abbr>.
            </li>
          </ol>
        </section>

        <!-- Button event listener -->
        <section class="align-center">
          <h3>Gestionnaire d'événements</h3>
          <p>
            Comme pour CSS, on peut ajouter du code en dehors des balises HTML5
            en utilisant, par exemple, un
            <em class="accent">event listener</em>.
          </p>
          <pre><code class="hljs">&lt;button id="nextSlideBtn"&gt;Prochaine slide&lt;/button&gt;</code></pre>
          <pre><code class="hljs" data-trim data-line-numbers>
          // Code JavaScript
          document.
            getElementById("nextSlideBtn").
            addEventListener("click", function() {
              Reveal.next();
            });
          </code></pre>
          <button id="nextSlideBtn">Prochaine slide</button>
          <p>
            <small
              >On identifie le bouton dans le DOM et on détermine l'action à
              déclencher lors de l'événement <strong>click</strong></small
            >
          </p>
        </section>
        <script>
          //Next slide
          document
            .getElementById("nextSlideBtn")
            .addEventListener("click", function () {
              Reveal.next();
            });
        </script>

        <!-- Binary string -->
        <section class="align-center">
          <h3>Autres événements</h3>
          <p>Insérez un mot pour voir l'équivalent en code binaire.</p>
          <input type="text" id="textToBinary" class="mb-2" />
          <code id="binaryOutput" class="r-stretch border-dark-2 hljs"></code>
          <p>
            <small>Événement <em>keyup</em></small>
          </p>
        </section>
        <script>
          // Binary
          document
            .getElementById("textToBinary")
            .addEventListener("keyup", function () {
              let output = "";
              document
                .getElementById("textToBinary")
                .value.split("")
                .forEach(function (letter) {
                  output += letter.charCodeAt(0).toString(2) + " ";
                });
              document.getElementById("binaryOutput").innerHTML = output;
            });
        </script>

        <!-- SVG interactif -->
        <section class="align-center">
          <h3>Autres éléments interactifs</h3>
          <p id="feedbackFace">
            Cliquez sur les parties du visage pour voir le nom en anglais.
          </p>
          <svg
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:svg="http://www.w3.org/2000/svg"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            width="210mm"
            height="297mm"
            viewBox="0 0 744.09448819 1052.3622047"
            id="faceSVG"
            version="1.1"
            inkscape:version="0.91 r13725"
            sodipodi:docname="face.svg"
            class="r-stretch"
          >
            <defs id="defs3382" />
            <sodipodi:namedview
              id="base"
              pagecolor="#ffffff"
              bordercolor="#666666"
              borderopacity="1.0"
              inkscape:pageopacity="0.0"
              inkscape:pageshadow="2"
              inkscape:zoom="0.58"
              inkscape:cx="72.413793"
              inkscape:cy="634.28571"
              inkscape:document-units="px"
              inkscape:current-layer="layer1"
              showgrid="false"
              inkscape:window-width="2560"
              inkscape:window-height="1377"
              inkscape:window-x="-8"
              inkscape:window-y="-8"
              inkscape:window-maximized="1"
            />
            <metadata id="metadata3385">
              <rdf:RDF>
                <cc:Work rdf:about="">
                  <dc:format>image/svg+xml</dc:format>
                  <dc:type
                    rdf:resource="http://purl.org/dc/dcmitype/StillImage"
                  />
                  <dc:title></dc:title>
                </cc:Work>
              </rdf:RDF>
            </metadata>
            <g
              inkscape:label="Livello 1"
              inkscape:groupmode="layer"
              id="layer1"
            >
              <ellipse
                style="
                  fill: #ffccaa;
                  fill-rule: evenodd;
                  stroke: #000000;
                  stroke-width: 0.92661422px;
                  stroke-linecap: butt;
                  stroke-linejoin: miter;
                  stroke-opacity: 1;
                "
                id="path3388"
                cx="373.27585"
                cy="564.43115"
                rx="256.07117"
                ry="287.96771"
              />
              <g id="hat">
                <rect
                  y="281.51608"
                  x="67.084908"
                  height="81.347412"
                  width="615.83014"
                  id="rect3392"
                  style="
                    fill: #000000;
                    fill-rule: evenodd;
                    stroke: #000000;
                    stroke-width: 0.6870625px;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-opacity: 1;
                  "
                />
                <rect
                  y="35.120827"
                  x="248.27586"
                  height="263.79309"
                  width="262.06897"
                  id="rect3394"
                  style="
                    fill: #000000;
                    fill-rule: evenodd;
                    stroke: #000000;
                    stroke-width: 1px;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-opacity: 1;
                  "
                />
              </g>
              <g id="g3438">
                <ellipse
                  ry="56.896553"
                  rx="48.275864"
                  cy="493.74152"
                  cx="291.58621"
                  id="path3396"
                  style="fill: #ffffff"
                />
                <circle
                  r="25.862068"
                  cy="512.70703"
                  cx="303.65518"
                  id="path3413"
                  style="fill: #0000ff"
                />
              </g>
              <g id="g3442">
                <ellipse
                  ry="56.896553"
                  rx="48.275864"
                  cy="495.46564"
                  cx="451.93103"
                  id="path3396-2"
                  style="fill: #ffffff"
                />
                <circle
                  r="25.862068"
                  cy="512.70703"
                  cx="439.86206"
                  id="path3413-4"
                  style="fill: #0000ff"
                />
              </g>
              <g id="mouth">
                <ellipse
                  style="fill: #ff0000"
                  id="path3430"
                  cx="371.55173"
                  cy="735.98291"
                  rx="92.241379"
                  ry="37.068966"
                />
              </g>
              <g id="glasses">
                <circle
                  r="77.586205"
                  cy="495.46567"
                  cx="279.58621"
                  id="path4254"
                  style="
                    fill: #00ffff;
                    fill-opacity: 0.47999998;
                    stroke: #000000;
                    stroke-width: 10;
                    stroke-miterlimit: 4;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                />
                <circle
                  r="77.586205"
                  cy="497.18979"
                  cx="460.6207"
                  id="path4254-7"
                  style="
                    fill: #00ffff;
                    fill-opacity: 0.47999998;
                    stroke: #000000;
                    stroke-width: 10;
                    stroke-miterlimit: 4;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                />
                <path
                  inkscape:connector-curvature="0"
                  id="path4273"
                  d="m 124.41379,497.18979 c 74.13793,0 77.58621,0 77.58621,0 l 0,0"
                  style="
                    fill: none;
                    fill-rule: evenodd;
                    stroke: #000000;
                    stroke-width: 10;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-miterlimit: 4;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                />
                <path
                  inkscape:connector-curvature="0"
                  id="path4273-2"
                  d="m 544.24138,495.46565 c 74.13793,0 77.58621,0 77.58621,0 l 0,0"
                  style="
                    fill: none;
                    fill-rule: evenodd;
                    stroke: #000000;
                    stroke-width: 10;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-miterlimit: 4;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                />
                <path
                  inkscape:connector-curvature="0"
                  id="path4290"
                  d="m 353.44828,493.74152 c 31.03448,0 29.31034,-1.72414 29.31034,-1.72414"
                  style="
                    fill: none;
                    fill-rule: evenodd;
                    stroke: #000000;
                    stroke-width: 10;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-miterlimit: 4;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                />
              </g>
              <path
                style="
                  fill: none;
                  fill-rule: evenodd;
                  stroke: #000000;
                  stroke-width: 5;
                  stroke-linecap: butt;
                  stroke-linejoin: miter;
                  stroke-miterlimit: 4;
                  stroke-dasharray: none;
                  stroke-opacity: 1;
                "
                d="M 368.96552,538.5691 C 350,623.05186 350,626.50013 350,626.50013 l 36.2069,13.79311"
                id="path4305"
                inkscape:connector-curvature="0"
              />
              <g id="moustaches">
                <path
                  inkscape:connector-curvature="0"
                  id="path4307"
                  d="m 376.34483,673.05186 c -74.13793,-50 -144.82759,75.86207 -144.82759,75.86207"
                  style="
                    fill: none;
                    fill-rule: evenodd;
                    stroke: #000000;
                    stroke-width: 25;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-miterlimit: 4;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                />
                <path
                  inkscape:connector-curvature="0"
                  id="path4307-8"
                  d="m 365.28667,673.43168 c 74.13793,-50 144.82759,75.86207 144.82759,75.86207"
                  style="
                    fill: none;
                    fill-rule: evenodd;
                    stroke: #000000;
                    stroke-width: 25;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-miterlimit: 4;
                    stroke-dasharray: none;
                    stroke-opacity: 1;
                  "
                />
              </g>
              <path
                sodipodi:type="star"
                style="
                  fill: #000000;
                  fill-opacity: 1;
                  stroke: none;
                  stroke-width: 25;
                  stroke-miterlimit: 4;
                  stroke-dasharray: none;
                  stroke-opacity: 1;
                "
                id="beard"
                sodipodi:sides="3"
                sodipodi:cx="372.41379"
                sodipodi:cy="859.25873"
                sodipodi:r1="145.12489"
                sodipodi:r2="72.562447"
                sodipodi:arg1="-0.52359878"
                sodipodi:arg2="0.52359878"
                inkscape:flatsided="false"
                inkscape:rounded="0"
                inkscape:randomized="0"
                d="m 498.09563,786.69628 -62.84092,108.84367 -62.84092,108.84365 -62.84092,-108.84365 -62.84093,-108.84367 125.68185,0 z"
                inkscape:transform-center-y="36.281225"
                transform="matrix(1.3566751,0,0,1,-133.65832,-5.7241379)"
              />
            </g>
          </svg>
        </section>
        <script>
          //Identify the object as any other HTML element
          var svg = document.getElementById("faceSVG");
          //Identify the output element in the page
          var feedback = document.getElementById("feedbackFace");
          //Create an array with the different IDs of the elements
          var faceElements = ["hat", "glasses", "moustaches", "beard", "mouth"];
          //Iterate through the elements
          faceElements.forEach(function (el) {
            //Identify the current element of the iteration
            var current = document.getElementById(el);
            //Associate a mouseover event-listener to change the pointer
            current.addEventListener("mouseover", function () {
              current.style.cursor = "pointer";
            });
            //Associate a click event-listener to show the feedback
            current.addEventListener("click", function () {
              feedback.innerHTML =
                "<span class='text-success'>You have clicked on the " +
                el.toUpperCase() +
                "</span>";
            });
          });
        </script>

        <!-- Résumé -->
        <section>
          <h3>En synthèse</h3>
          <p>Pour créer une interaction il faut :</p>
          <ol>
            <li class="fragment">
              <strong class="accent">Identifier</strong> l'élément interactif
              dans le
              <abbr title="Document Object Model">DOM</abbr>
            </li>
            <li class="fragment">
              Lui appliquer un
              <strong class="accent">gestionnaire d'événement</strong> associé à
              un type d'événement spécifique
            </li>
            <li class="fragment">
              Définir une
              <strong class="accent">règle de comportement</strong> (i.e. une
              fonction) qui est déclenchée par l'événement
            </li>
          </ol>
          <div class="fragment mt-5">
            <small>
              Ce processus peut se complexifier avec la programmation. Par
              exemple, identifier plusieurs éléments ou événements à la fois, ou
              déclencher plusieurs règles de comportements.
            </small>
          </div>
        </section>

        <!-- Plus loin -->
        <section>
          <h3>Pour aller plus loin</h3>
          <p>
            Les concepts abordés dans cette présentation sont traités de manière
            plus exhaustive dans
            <a
              href="https://edutechwiki.unige.ch/fr/Interactivit%C3%A9_avec_JavaScript"
              >un article sur EduTechWiki</a
            >.
          </p>
          <p>
            EduTechWiki est un wiki sur la technologie éducative hébergé est
            maintenu par
            <a href="https://tecfa.unige.ch"
              ><abbr title="Technologies de Formation et Apprentissage"
                >TECFA</abbr
              ></a
            >, une unité de l'Université de Genève, depuis 2006.
          </p>
        </section>

        <!-- Merci -->
        <section class="align-center">
          <h3>Merci pour votre attention !</h3>
          <div class="r-stretch">
            <p>
              Mattia A. Fritz<br />
              <small>TECFA, Université de Genève</small>
            </p>
            <p>
              <a href="mailto:mattia.fritz@unige.ch"
                ><i class="fas fa-envelope fa-fw"></i
              ></a>

              <a href="https://mafritz.ch">
                <i class="fas fa-link fa-fw"></i>
              </a>

              <a href="https://twitter.com/mattiafritz">
                <i class="fab fa-twitter fa-fw"></i>
              </a>

              <a href="https://github.com/mafritz">
                <i class="fab fa-github fa-fw"></i>
              </a>

              <a href="https://www.researchgate.net/profile/Mattia_Fritz">
                <i class="fab fa-researchgate fa-fw"></i>
              </a>
            </p>
          </div>
          <div>
            <a
              rel="license"
              href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
              ><img
                alt="Licence Creative Commons"
                style="border-width: 0"
                src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a
            ><br />
            <small
              >Présentation créée avec
              <a href="https://revealjs.com/">Reveal.js</a>.</small
            >
          </div>
        </section>

        <!-- End of slides -->
      </div>
    </div>

    <script src="https://mafritz.ch/slides/assets/dist/reveal.js"></script>
    <script src="https://mafritz.ch/slides/assets/plugin/zoom/zoom.js"></script>
    <script src="https://mafritz.ch/slides/assets/plugin/notes/notes.js"></script>
    <script src="https://mafritz.ch/slides/assets/plugin/search/search.js"></script>
    <script src="https://mafritz.ch/slides/assets/plugin/markdown/markdown.js"></script>
    <script src="https://mafritz.ch/slides/assets/plugin/highlight/highlight.js"></script>
    <script src="https://mafritz.ch/slides/assets/plugin/math/math.js"></script>
    <script>
      // Also available as an ES module, see:
      // https://revealjs.com/initialization/
      Reveal.initialize({
        controls: true,
        progress: true,
        center: false,
        hash: true,
        slideNumber: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [
          RevealZoom,
          RevealNotes,
          RevealSearch,
          RevealMarkdown,
          RevealHighlight,
          RevealMath,
        ],
      });
    </script>
    <!-- Fontawesome -->
    <script
      src="https://kit.fontawesome.com/ac5eb0c407.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
